<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports & Analytics - SmartInventory</title>
    <link rel="stylesheet" href="CSS/main.css">
    <link rel="stylesheet" href="CSS/dashboard.css">
    <link rel="stylesheet" href="CSS/items.css">
    <link rel="stylesheet" href="CSS/reports.css">
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <img src="images/logo.png" alt="Logo" class="sidebar-logo">
            <h2 class="sidebar-title">SmartInventory</h2>
        </div>

        <nav class="sidebar-nav">
            <a href="dashboard.html" class="nav-item">
                <span class="nav-icon">üìä</span>
                <span class="nav-text">Dashboard</span>
            </a>
            <a href="items.html" class="nav-item">
                <span class="nav-icon">üì¶</span>
                <span class="nav-text">Items</span>
            </a>
            <a href="transactions.html" class="nav-item">
                <span class="nav-icon">üí≥</span>
                <span class="nav-text">Transactions</span>
            </a>
            <a href="reports.html" class="nav-item active">
                <span class="nav-icon">üìà</span>
                <span class="nav-text">Reports</span>
            </a>
            <a href="suppliers.html" class="nav-item">
                <span class="nav-icon">üè¢</span>
                <span class="nav-text">Suppliers</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <div class="user-info">
                <div class="user-avatar" id="sidebar-avatar">U</div>
                <div class="user-details">
                    <div class="user-name" id="sidebar-username">Username</div>
                    <div class="user-role" id="sidebar-role">User</div>
                </div>
            </div>
            <a href="#" id="logout-btn" class="logout-btn">
                <span class="nav-icon">üö™</span>
                <span class="nav-text">Logout</span>
            </a>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Top Bar -->
        <header class="top-bar">
            <div class="top-bar-left">
                <h1 class="page-title">Reports & Analytics</h1>
                <p class="page-subtitle">Performance Analysis, Insights & Recommendations</p>
            </div>
            <div class="top-bar-right">
                <div class="notification-badge-container">
                    <a href="alerts.html" class="notification-btn">
                        <span class="notification-icon">üîî</span>
                        <span class="notification-count" id="notification-count">0</span>
                    </a>
                </div>
                <div class="current-date" id="current-date-display">...</div>
            </div>
        </header>

        <!-- Dashboard Content -->
        <div class="dashboard-container">
            <!-- Alert Container -->
            <div id="alert-container"></div>

            <!-- Report Controls -->
            <div class="report-controls">
                <div class="control-group">
                    <label class="control-label">Time Period:</label>
                    <select id="time-period" class="form-control">
                        <option value="today">Today</option>
                        <option value="week" selected>This Week</option>
                        <option value="month">This Month</option>
                        <option value="year">This Year</option>
                        <option value="custom">Custom Range</option>
                    </select>
                </div>
                <div class="control-group" id="custom-date-range" style="display: none;">
                    <label class="control-label">From:</label>
                    <input type="date" id="date-from" class="form-control">
                    <label class="control-label">To:</label>
                    <input type="date" id="date-to" class="form-control">
                </div>
                <div class="control-group">
                    <button class="btn btn-primary" id="generate-report">üìä Generate Report</button>
                    <button class="btn btn-secondary" id="export-report">üì• Export PDF</button>
                </div>
            </div>

            <!-- Key Metrics -->
            <div class="metrics-grid">
                <div class="metric-card card-blue">
                    <div class="metric-icon">üí∞</div>
                    <div class="metric-content">
                        <h3 class="metric-value" id="total-revenue">$0</h3>
                        <p class="metric-label">Total Revenue</p>
                        <span class="metric-change positive" id="revenue-change">+0%</span>
                    </div>
                </div>

                <div class="metric-card card-green">
                    <div class="metric-icon">üìà</div>
                    <div class="metric-content">
                        <h3 class="metric-value" id="total-profit">$0</h3>
                        <p class="metric-label">Total Profit</p>
                        <span class="metric-change positive" id="profit-margin">0% margin</span>
                    </div>
                </div>

                <div class="metric-card card-purple">
                    <div class="metric-icon">üîÑ</div>
                    <div class="metric-content">
                        <h3 class="metric-value" id="roi-value">0%</h3>
                        <p class="metric-label">ROI (Return on Investment)</p>
                        <span class="metric-change positive" id="roi-status">Profitable</span>
                    </div>
                </div>

                <div class="metric-card card-orange">
                    <div class="metric-icon">‚ö°</div>
                    <div class="metric-content">
                        <h3 class="metric-value" id="turnover-rate">0x</h3>
                        <p class="metric-label">Stock Turnover Rate</p>
                        <span class="metric-change positive" id="turnover-status">Good</span>
                    </div>
                </div>
            </div>

            <!-- Charts Grid -->
            <div class="charts-grid">
                <!-- Sales Trend Chart -->
                <div class="card chart-card">
                    <div class="card-header">
                        <h2 class="card-title">üìà Sales Trend</h2>
                        <select class="time-filter" id="sales-trend-filter">
                            <option value="7">Last 7 Days</option>
                            <option value="14">Last 14 Days</option>
                            <option value="30" selected>Last 30 Days</option>
                        </select>
                    </div>
                    <div class="card-body">
                        <canvas id="salesTrendChart"></canvas>
                    </div>
                </div>

                <!-- Revenue by Category -->
                <div class="card chart-card">
                    <div class="card-header">
                        <h2 class="card-title">üí∞ Revenue by Category</h2>
                    </div>
                    <div class="card-body">
                        <canvas id="revenueCategoryChart"></canvas>
                    </div>
                </div>

                <!-- Top Products -->
                <div class="card chart-card">
                    <div class="card-header">
                        <h2 class="card-title">üèÜ Top 10 Best Selling Products</h2>
                    </div>
                    <div class="card-body">
                        <canvas id="topProductsChart"></canvas>
                    </div>
                </div>

                <!-- Profit Margin Analysis -->
                <div class="card chart-card">
                    <div class="card-header">
                        <h2 class="card-title">üìä Profit Margin by Product</h2>
                    </div>
                    <div class="card-body">
                        <canvas id="profitMarginChart"></canvas>
                    </div>
                </div>

                <!-- Stock Status Distribution -->
                <div class="card chart-card">
                    <div class="card-header">
                        <h2 class="card-title">üì¶ Stock Status Distribution</h2>
                    </div>
                    <div class="card-body">
                        <canvas id="stockStatusChart"></canvas>
                    </div>
                </div>

                <!-- ROI Analysis -->
                <div class="card chart-card">
                    <div class="card-header">
                        <h2 class="card-title">üíπ ROI by Product Category</h2>
                    </div>
                    <div class="card-body">
                        <canvas id="roiChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Performance Tables -->
            <div class="dashboard-grid">
                <!-- Best Performers -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">üåü Best Performing Products</h2>
                        <select class="time-filter" id="best-products-metric">
                            <option value="revenue">By Revenue</option>
                            <option value="profit">By Profit</option>
                            <option value="quantity">By Quantity</option>
                            <option value="roi">By ROI</option>
                        </select>
                    </div>
                    <div class="card-body">
                        <div id="best-products-table" class="performance-table">
                            <div class="empty-state">
                                <span class="empty-icon">üìä</span>
                                <p>Loading...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Worst Performers -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">‚ö†Ô∏è Underperforming Products</h2>
                        <select class="time-filter" id="worst-products-metric">
                            <option value="revenue">By Revenue</option>
                            <option value="profit">By Profit</option>
                            <option value="quantity">By Quantity</option>
                        </select>
                    </div>
                    <div class="card-body">
                        <div id="worst-products-table" class="performance-table">
                            <div class="empty-state">
                                <span class="empty-icon">üìä</span>
                                <p>Loading...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recommendations Section -->
            <div class="card recommendations-card">
                <div class="card-header">
                    <h2 class="card-title">üí° Smart Recommendations</h2>
                </div>
                <div class="card-body">
                    <div id="recommendations-list" class="recommendations-grid">
                        <!-- Recommendations will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Supplier Performance (if applicable) -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">üè¢ Supplier Performance Comparison</h2>
                </div>
                <div class="card-body">
                    <canvas id="supplierPerformanceChart"></canvas>
                </div>
            </div>

            <!-- Quick Stats Summary -->
            <div class="stats-summary">
                <div class="stat-item">
                    <span class="stat-icon">üì¶</span>
                    <div class="stat-info">
                        <div class="stat-label">Total Items in Stock</div>
                        <div class="stat-value" id="total-items-stat">0</div>
                    </div>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">üíµ</span>
                    <div class="stat-info">
                        <div class="stat-label">Total Inventory Value</div>
                        <div class="stat-value" id="inventory-value-stat">$0</div>
                    </div>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">üéØ</span>
                    <div class="stat-info">
                        <div class="stat-label">Average Profit Margin</div>
                        <div class="stat-value" id="avg-margin-stat">0%</div>
                    </div>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">üìä</span>
                    <div class="stat-info">
                        <div class="stat-label">Items Sold This Period</div>
                        <div class="stat-value" id="items-sold-stat">0</div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <script src="JavaScript/reports.js"></script>
</body>
</html>